---
import Layout from "@layouts/Layout.astro";
import Background from "@components/Background";
import Card from "@components/Card";
import Title from "@components/Title";
import Text from "@components/Text";
import Social from "@components/Social";
import ContactType from "@components/ContactType";
import Copyable from "@components/Copyable";
import RepositoryList from "@components/RepositoryList";

import { Github } from "react-bootstrap-icons";
import { Discord } from "react-bootstrap-icons";
import { Newspaper } from "react-bootstrap-icons";
import { EnvelopeFill } from "react-bootstrap-icons";

import { fetchRepos } from "@lib/index";

const repos = await fetchRepos();
---

<Layout snap>
  <Background>
    <Card id="landing" nextId="github">
      <Title>Hi, I'm Zuma ðŸ‘‹</Title>
      <Text>Web developer & computer science student</Text>
      <div class="my-4 flex items-center gap-2">
        <Social tooltip="Github" href="https://github.com/zuma206">
          <Github />
        </Social>
        <Social tooltip="Discord" href="#contact"><Discord /></Social>
        <Social tooltip="Blog" href="/blog"><Newspaper /></Social>
        <Social tooltip="Email" href="#contact"><EnvelopeFill /></Social>
      </div>
    </Card>

    <Card id="github" previousId="landing" nextId="contact">
      <Title>Github Projects</Title>
      <RepositoryList client:visible defaultRepos={repos} />
    </Card>

    <Card id="contact" previousId="github">
      <div class="flex flex-col gap-3">
        <Title>Contact</Title>
        <div class="flex flex-col gap-1">
          <Text>
            <ContactType>Email:</ContactType>
            <Copyable client:visible text="zuma@zuma.eu.org" email />
          </Text>
          <Text>
            <ContactType>Discord:</ContactType>
            <Copyable client:visible text="zu.ma" />
          </Text>
        </div>
      </div>
    </Card>
  </Background>
</Layout>
